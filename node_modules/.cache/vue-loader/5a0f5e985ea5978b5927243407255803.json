{"remainingRequest":"C:\\Users\\25800\\Desktop\\fc\\fc\\node_modules\\.pnpm\\vue-loader@16.8.3_@vue+compiler-sfc@3.5.11_vue@3.5.11_webpack@4.47.0\\node_modules\\vue-loader\\dist\\index.js??ref--1-1!C:\\Users\\25800\\Desktop\\fc\\fc\\src\\components\\style\\StyleConfig.vue?vue&type=style&index=0&id=39c79b16&lang=css","dependencies":[{"path":"C:\\Users\\25800\\Desktop\\fc\\fc\\src\\components\\style\\StyleConfig.vue","mtime":1734071660000},{"path":"C:\\Users\\25800\\Desktop\\fc\\fc\\node_modules\\.pnpm\\css-loader@3.6.0_webpack@4.47.0\\node_modules\\css-loader\\dist\\cjs.js","mtime":1734071710498},{"path":"C:\\Users\\25800\\Desktop\\fc\\fc\\node_modules\\.pnpm\\vue-loader@16.8.3_@vue+compiler-sfc@3.5.11_vue@3.5.11_webpack@4.47.0\\node_modules\\vue-loader\\dist\\stylePostLoader.js","mtime":1734071730785},{"path":"C:\\Users\\25800\\Desktop\\fc\\fc\\node_modules\\.pnpm\\postcss-loader@3.0.0\\node_modules\\postcss-loader\\src\\index.js","mtime":1734071729013},{"path":"C:\\Users\\25800\\Desktop\\fc\\fc\\node_modules\\.pnpm\\cache-loader@4.1.0_webpack@4.47.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733886225372},{"path":"C:\\Users\\25800\\Desktop\\fc\\fc\\node_modules\\.pnpm\\vue-loader@16.8.3_@vue+compiler-sfc@3.5.11_vue@3.5.11_webpack@4.47.0\\node_modules\\vue-loader\\dist\\index.js","mtime":1734071730770}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5fZmQtc3R5bGUtY29uZmlnIHsKICAgIHdpZHRoOiAxMDAlOwogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47Cn0KCi5fZmQtb3BhY2l0eS1pbnB1dCAuX2ZkLWNpLWNvbiB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgd2lkdGg6IDE1MHB4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoKLl9mZC1vcGFjaXR5LWlucHV0IC5fZmQtY2ktY29uID4gc3BhbiB7CiAgICB3aWR0aDogMzJweDsKfQoKLl9mZC1vcGFjaXR5LWlucHV0IC5lbC1zbGlkZXIgewogICAgZmxleDogMTsKICAgIG1hcmdpbi1yaWdodDogMTVweDsKfQo="},{"version":3,"sources":["C:\\Users\\25800\\Desktop\\fc\\fc\\src\\components\\style\\StyleConfig.vue"],"names":[],"mappings":";AA0NA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACd,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1B;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE;IAClC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACf;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IAC1B,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACtB","file":"C:/Users/25800/Desktop/fc/fc/src/components/style/StyleConfig.vue","sourceRoot":"","sourcesContent":["<template>\n    <div class=\"_fd-style-config\">\n        <BoxSizeInput v-model=\"size\" @change=\"onInput\" style=\"margin-bottom: 15px;\"></BoxSizeInput>\n        <ConfigItem :label=\"t('style.color')\">\n            <ColorInput v-model=\"color\" @change=\"onInput\"></ColorInput>\n        </ConfigItem>\n        <ConfigItem :label=\"t('style.backgroundColor')\">\n            <ColorInput v-model=\"backgroundColor\" @change=\"onInput\"></ColorInput>\n        </ConfigItem>\n        <BorderInput v-model=\"border\" @change=\"onInput\"></BorderInput>\n        <RadiusInput v-model=\"radius\" @change=\"onInput\"/>\n        <FontInput v-model=\"font\" @change=\"onInput\"/>\n        <ShadowInput v-model=\"boxShadow\" @change=\"onInput\"></ShadowInput>\n        <ConfigItem :label=\"t('style.opacity')\" class=\"_fd-opacity-input\">\n            <el-slider :show-tooltip=\"false\" v-model=\"opacity\"\n                       @change=\"onInput\"></el-slider>\n            <span>{{ opacity }}%</span>\n        </ConfigItem>\n        <ConfigItem :label=\"t('style.scale')\" class=\"_fd-opacity-input\">\n            <el-slider :min=\"80\" :max=\"120\" :show-tooltip=\"false\" v-model=\"scale\"\n                       @change=\"onInput\"></el-slider>\n            <span>{{ scale }}%</span>\n        </ConfigItem>\n        <ConfigItem :label=\"t('props.custom')\" :info=\"Object.keys(formData).length > 0 ? t('struct.configured') : ''\">\n            <template #append>\n                <TableOptions v-model=\"formData\" @change=\"onInput\" v-bind=\"{\n                column: [{label: t('props.key'), key: 'label'}, {label: t('props.value'), key: 'value'}],\n                valueType: 'object'\n            }\"></TableOptions>\n            </template>\n        </ConfigItem>\n    </div>\n</template>\n\n<script>\nimport {defineComponent} from 'vue';\nimport BoxSizeInput from './BoxSizeInput.vue';\nimport BorderInput from './BorderInput.vue';\nimport RadiusInput from './RadiusInput.vue';\nimport FontInput from './FontInput.vue';\nimport ConfigItem from './ConfigItem.vue';\nimport ColorInput from './ColorInput.vue';\nimport ShadowInput from './ShadowInput.vue';\nimport {isNull} from '../../utils/index';\nimport TableOptions from '../TableOptions.vue';\n\nconst fontKey = [\n    'fontSize',\n    'fontWeight',\n    'fontStyle',\n    'textDecoration',\n    'textAlign',\n    'lineHeight',\n    'letterSpacing',\n];\n\nconst styleKey = [\n    'color',\n    'backgroundColor',\n    'scale',\n    'borderRadius',\n    'boxShadow',\n    'marginTop',\n    'marginRight',\n    'marginBottom',\n    'marginLeft',\n    'paddingTop',\n    'paddingRight',\n    'paddingBottom',\n    'paddingLeft',\n    'margin',\n    'padding',\n    'opacity',\n    'height',\n    'width',\n    'borderStyle',\n    'borderColor',\n    'borderWidth',\n    'borderTopStyle',\n    'borderTopColor',\n    'borderTopWidth',\n    'borderLeftStyle',\n    'borderLeftColor',\n    'borderLeftWidth',\n    'borderBottomStyle',\n    'borderBottomColor',\n    'borderBottomWidth',\n    'borderRightStyle',\n    'borderRightColor',\n    'borderRightWidth',\n    ...fontKey\n];\n\nexport default defineComponent({\n    name: 'StyleConfig',\n    inject: ['designer'],\n    emits: ['update:modelValue'],\n    components: {\n        TableOptions,\n        ColorInput,\n        ConfigItem,\n        RadiusInput,\n        BoxSizeInput,\n        BorderInput,\n        ShadowInput,\n        FontInput,\n    },\n    props: {\n        modelValue: {\n            type: Object,\n            default: () => ({})\n        }\n    },\n    watch: {\n        modelValue() {\n            this.tidyStyle();\n        },\n    },\n    data() {\n        const t = this.designer.setupState.t;\n        return {\n            t,\n            formData: {},\n            size: {},\n            border: {},\n            font: {},\n            radius: '',\n            backgroundColor: '',\n            color: '',\n            boxShadow: '',\n            opacity: 100,\n            scale: 100,\n        }\n    },\n    methods: {\n        tidyStyle() {\n            const style = {...this.modelValue || {}};\n            const size = {};\n            Object.keys(style).forEach(k => {\n                if (['margin', 'padding', 'height', 'width'].indexOf(k) > -1) {\n                    size[k] = style[k];\n                } else if (k.indexOf('margin') > -1 || k.indexOf('padding') > -1) {\n                    size[k] = style[k];\n                }\n            });\n\n            const border = {};\n            Object.keys(style).forEach(k => {\n                if (k.indexOf('border') === 0) {\n                    border[k] = style[k];\n                }\n            });\n\n            let opacity = isNull(style.opacity) ? 100 : (parseFloat(style.opacity) || 0);\n            if (opacity && opacity < 1) {\n                opacity = opacity * 100;\n            }\n\n            let scale = style.scale;\n            if (isNull(style.scale)) {\n                scale = 100\n            } else if (isNaN(Number(scale))) {\n                scale = parseFloat(scale) || 100;\n            } else {\n                scale = scale > 0 ? scale * 100 : 0;\n            }\n\n            const font = {};\n            fontKey.forEach(k => {\n                if (style[k]) {\n                    font[k] = style[k];\n                }\n            });\n            this.opacity = opacity;\n            this.scale = scale;\n            this.size = size;\n            this.border = border;\n            this.font = font;\n            this.radius = style.borderRadius || '';\n            this.boxShadow = style.boxShadow || '';\n            this.color = style.color || '';\n            this.backgroundColor = style.backgroundColor || '';\n            styleKey.forEach(k => {\n                delete style[k];\n            })\n            this.formData = style;\n        },\n        onInput() {\n            let temp = {...this.formData};\n            styleKey.forEach(k => {\n                delete temp[k];\n            })\n            const style = {\n                ...temp,\n                color: this.color || '',\n                backgroundColor: this.backgroundColor || '',\n                opacity: (this.opacity >= 0 && this.opacity < 100) ? (this.opacity + '%') : '',\n                borderRadius: this.radius || '',\n                boxShadow: this.boxShadow || '',\n                scale: (this.scale >= 0 && this.scale !== 100) ? (this.scale + '%') : '',\n                ...this.size, ...this.border, ...this.font\n            }\n            Object.keys(style).forEach(k => {\n                if (isNull(style[k])) {\n                    delete style[k];\n                }\n            })\n            this.$emit('update:modelValue', style);\n        },\n    },\n    created() {\n        this.tidyStyle();\n    }\n\n});\n</script>\n\n<style>\n._fd-style-config {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n}\n\n._fd-opacity-input ._fd-ci-con {\n    display: flex;\n    justify-content: space-between;\n    width: 150px;\n    align-items: center;\n}\n\n._fd-opacity-input ._fd-ci-con > span {\n    width: 32px;\n}\n\n._fd-opacity-input .el-slider {\n    flex: 1;\n    margin-right: 15px;\n}\n</style>\n"]}]}